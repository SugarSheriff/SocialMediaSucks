{{#extends "layouts/main"}}

{{#content "body"}}
<div class="dashboard">
    <h1>Dashboard</h1>
    
    <!-- Display a list of user's blog posts -->
    {{#if userPosts.length}}
    <h2>Your Blog Posts</h2>
    <ul>
        {{#each userPosts}}
        <li>
            <a href="/post/{{this.id}}">{{this.title}}</a>
            <span>{{this.createdAt}}</span>
            <form action="/delete/{{this.id}}" method="POST">
                <button type="submit" class="delete-btn">Delete</button>
            </form>
        </li>
        {{/each}}
    </ul>
    {{else}}
    <p>You haven't created any blog posts yet.</p>
    {{/if}}

    <!-- Form to create a new blog post -->
    <h2>Create a New Blog Post</h2>
    <form action="/create" method="POST">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" required>
        </div>
        <div class="form-group">
            <label for="content">Content</label>
            <textarea id="content" name="content" rows="4" required></textarea>
        </div>
        <button type="submit" class="submit-btn">Create Post</button>
    </form>
</div>
{{/content}}
